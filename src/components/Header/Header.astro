---
import { ToggleTheme } from "./ToggleTheme.tsx";
---

<script>
  import { numSams, clearSams } from "../../stores/sam";

  const shooButton = document.querySelector("button.shoo");

  if (shooButton) {
    shooButton.addEventListener("click", () => {
      clearSams();
    });

    numSams.subscribe((num) => {
      num === 0
        ? shooButton.classList.add("hidden")
        : shooButton.classList.remove("hidden");
    });
  }
</script>

<header transition:persist>
  <nav>
    <a class="wordmark" href="/">Eva Decker</a>
    <div class="links">
      <button class="shoo" type="button">Shoo</button>
      <a href="/about">About</a>
      <a href="/projects">Projects</a>
    </div>
    <div class="toggle">
      <ToggleTheme client:only="react" />
    </div>
  </nav>
</header>

<style>
  header {
    width: 100%;
    padding-inline: var(--space-xl);
  }

  nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.5rem 0;
  }

  .wordmark {
    font-size: var(--step-0);
    font-family: var(--font-sans);
    font-weight: var(--font-weight-bold);
    text-decoration: "none";
    position: "relative";
    bottom: "-0.1rem";
  }

  .links {
    display: flex;
    gap: 0.25em;
    margin-inline-start: auto;
  }

  .links a,
  .links button {
    background: transparent;
    padding: 0.08em 0.4em 0.03em;
    border: none;
    border-radius: var(--radius-s);
    cursor: pointer;
  }

  .links a:hover,
  .links button:hover {
    background: var(--jade-a3);
    color: var(--jade-12);
  }

  .links a:active,
  .links button:active {
    background: var(--jade-a4);
    color: var(--jade-12);
  }

  .toggle {
    position: relative;
    width: 32px;
    height: 32px;
    margin-inline: var(--space-s) calc(var(--space-s) * -1);
  }

  .links .shoo {
    background: var(--jade-9);
    color: var(--white-a12);
  }

  .links .shoo:hover {
    background: var(--jade-10);
    color: var(--white-a12);
  }

  .links .shoo:active {
    background: var(--jade-9);
  }

  .shoo.hidden {
    display: none;
  }
</style>
